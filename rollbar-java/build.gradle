buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "com.netflix.nebula:nebula-project-plugin:3.4.0"
    }
}

apply plugin: "nebula.integtest"

dependencies {
    api project(':rollbar-api')

    api group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'

    compileOnly 'com.google.code.findbugs:jsr305:3.0.2'

    integTestImplementation group: 'com.github.tomakehurst', name: 'wiremock', version: '2.11.0'
    integTestImplementation group: 'com.google.code.gson', name: 'gson', version: '2.8.2'

    // No longer bundled with JDK since Java 9, and they are required by WireMock
    // TODO: Upgrade WireMock to 2.27, fix test failures, and remove this. 
    if (JavaVersion.current().compareTo(JavaVersion.VERSION_1_9) >= 0) {
        integTestImplementation group: 'javax.xml.bind', name: 'jaxb-api', version: '2.3.1'
        integTestImplementation group: 'javax.servlet', name: 'servlet-api', version: '2.5'
    }
}
